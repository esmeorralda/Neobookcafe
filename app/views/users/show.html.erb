<!-- app/views/users/show.html.erb -->

<div class="max-w-4xl mx-auto mt-10 px-4">
  <h1 class="text-3xl font-bold mb-6 text-[#3e2f23]">
    <%= current_user.name || "User" %>님의 소개
  </h1>

  <!-- 자기소개 -->
  <section class="mb-8 p-4 bg-[#faf5ef] rounded-md border border-[#3e2f23]">
    <h2 class="text-xl font-semibold mb-2 text-[#3e2f23]">자기소개</h2>
    <p class="text-[#3e2f23] text-lg">
      <%= current_user.self_intro.presence || "아직 자기소개가 없습니다." %>
    </p>
  </section>

  <!-- 책 소개 리스트 -->
  <section>
    <h2 class="text-xl font-semibold mb-4 text-[#3e2f23]">책 소개</h2>
    <div id="quotes-container" class="space-y-6">
      <% current_user.book_intros.each do |intro| %>
        <div class="bg-[#faf5ef] p-4 rounded-md border border-[#3e2f23] relative">
          <!-- 삭제 버튼 위치 -->
          <button type="button" class="absolute top-2 right-2 text-[#3e2f23] hover:text-red-500" aria-label="책 소개 삭제">✖</button>

          <p class="text-[#3e2f23] text-xl mb-2">“<%= intro.quote %>”</p>
          <p class="font-bold text-[#3e2f23] mb-1"><%= intro.book_title %></p>
          <p class="italic text-[#3e2f23]"><%= intro.author_name %></p>
        </div>
      <% end %>

      <% if current_user.book_intros.empty? %>
        <p class="text-[#3e2f23] italic">아직 등록된 책 소개가 없습니다.</p>
      <% end %>
    </div>
  </section>
</div>
