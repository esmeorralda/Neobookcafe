"use strict";
var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.belittle = void 0;
var SINGLE_CHAR_NORMALIZATION_MAP = {
    'ð—Œ': 's', 'ð˜´': 's', 'ð™¨': 's', 'ðšœ': 's', 'ð¬': 's', 'ð‘ ': 's', 'ð’”': 's', 'ð“ˆ': 's', 'ð”°': 's', 'ð–˜': 's', 'ð•¤': 's',
    'ï½“': 's', 'ÅŸ': 's', 'â“¢': 's', 'â’®': 's', 'ðŸ…¢': 's', 'ðŸ†‚': 's', 'ðŸ…‚': 's', 'ð‘º': 's', 'Å¿': 's', '$': 's', '5': 's',
    'ð–¾': 'e', 'ð˜¦': 'e', 'ð™š': 'e', 'ðšŽ': 'e', 'ðž': 'e', 'ð‘’': 'e', 'ð’†': 'e', 'â„¯': 'e', 'ð“®': 'e', 'ð”¢': 'e', 'ð–Š': 'e', 'ð•–': 'e',
    'ï½…': 'e', 'Ä—': 'e', 'â“”': 'e', 'â’ ': 'e', 'ðŸ…”': 'e', 'ðŸ…´': 'e', 'ðŸ„´': 'e', 'Ñ”': 'e', 'Ãª': 'e', 'Ã«': 'e', 'Ã©': 'e', 'Ã¨': 'e',
    'Ä“': 'e', 'Ä•': 'e', 'Ä›': 'e', 'Ä™': 'e', 'áº¹': 'e', 'áº»': 'e', 'áº½': 'e', 'áº¿': 'e', 'á»': 'e', 'á»‡': 'e', 'á»…': 'e', 'á»ƒ': 'e',
    '3': 'e', 'â‚¬': 'e',
    'ð—‘': 'x', 'ð˜¹': 'x', 'ð™­': 'x', 'ðš¡': 'x', 'ð±': 'x', 'ð‘¥': 'x', 'ð’™': 'x', 'ð“': 'x', 'ð”': 'x', 'ð”µ': 'x', 'ð–': 'x', 'ð•©': 'x',
    'ï½˜': 'x', 'â“§': 'x', 'â’³': 'x', 'ðŸ…§': 'x', 'ðŸ†‡': 'x', 'ðŸ…‡': 'x', 'Ã—': 'x', 'âœ•': 'x', 'âœ–': 'x', 'âŒ': 'x', 'â¨¯': 'x',
    'âš”': 'x', '*': 'x', 'âœ—': 'x', 'âœ˜': 'x',
    'Å³': 'u', 'Ã¼': 'u', 'Ãº': 'u', 'Ã¹': 'u', 'Ã»': 'u', 'Å©': 'u', 'Å«': 'u', 'Å­': 'u', 'Å¯': 'u', 'Å±': 'u', 'á»¥': 'u', 'Æ°': 'u',
    'Ã§': 'c', 'Ä‡': 'c', 'Ä‰': 'c', 'Ä': 'c', 'Ä‹': 'c', 'Â¢': 'c', 'Â©': 'c', 'á¸‰': 'c', '(': 'c', '<': 'c',
    'ï¼¦': 'F', 'á¸ž': 'F', 'Æ‘': 'F', 'â„±': 'F', 'êž˜': 'F', 'ê»': 'F',
    'ï¼«': 'K', 'á¸°': 'K', 'Ç¨': 'K', 'á¸²': 'K', 'á¸´': 'K', 'â±©': 'K', 'ê€': 'K',
    'ï¼£': 'C', 'Ä†': 'C', 'Äˆ': 'C', 'ÄŒ': 'C', 'ÄŠ': 'C', 'Ã‡': 'C', 'á¸ˆ': 'C',
    'ï¼µ': 'U', 'Ãš': 'U', 'Ã™': 'U', 'Ã›': 'U', 'Å¨': 'U', 'Åª': 'U', 'Å¬': 'U', 'Å®': 'U', 'Å°': 'U', 'á»¤': 'U',
    'ã…—': 'ã…—', 'â”»': 'ã…—', 'â”´': 'ã…—', 'â”¹': 'ã…—', 'âŠ¥': 'ã…—', 'â€ ': 'ã…—', 'âŸ‚': 'ã…—', 'â•¨': 'ã…—', 'â•§': 'ã…—', 'â•¥': 'ã…—',
    '^': 'ã……', 'äºº': 'ã……', 'âˆ§': 'ã……', 'ã‰¦': 'ã……', 'á²': 'ã……', 'Î›': 'ã……', 'â©˜': 'ã……', 'â‹€': 'ã……', 'â©š': 'ã……',
    'ç”˜': 'ã…‚', 'å»¿': 'ã…‚', 'á—¨': 'ã…‚', 'á—': 'ã…‚', 'á—•': 'ã…‚', 'ç”°': 'ã…‚', 'å£': 'ã…‚', 'æ—¥': 'ã…‚', 'ç›®': 'ã…‚', 'å›—': 'ã…‚',
    'å·±': 'ã„¹', 'ä¹™': 'ã„¹', 'å·²': 'ã„¹', 'å·³': 'ã„¹', 'åŒš': 'ã„·',
    'åœ': 'ã…', '/': 'ã…', 'â¼ƒ': 'ã…', 'â¼': 'ã…', 'â¼‚': 'ã…', 'r': 'ã…', 'F': 'ã…',
    'ã…£': 'ã…£', 'Â¦': 'ã…£', 'ï½œ': 'ã…£', 'ï¿¤': 'ã…£', 'Ð†': 'ã…£', 'Ó€': 'ã…£', '1': 'ã…£', '|': 'ã…£', 'l': 'ã…£', '!': 'ã…£', 'I': 'ã…£',
    'H': 'ã…', 'ã…–': 'ã…', 'ã…’': 'ã…', 'Ð': 'ã…', 'â²Ž': 'ã…', 'â„': 'ã…',
    'ðŸ¦': 'ìƒˆ', 'ðŸ”': 'ìƒˆ', 'ðŸ¦…': 'ìƒˆ', 'ðŸ¦‰': 'ìƒˆ', 'ðŸ¦†': 'ìƒˆ', 'ðŸ¦œ': 'ìƒˆ', 'ðŸ¦¤': 'ìƒˆ', 'ðŸ¦¢': 'ìƒˆ', 'ðŸ•Š': 'ìƒˆ',
    'ðŸ•': 'ê°œ', 'ðŸ¶': 'ê°œ', 'ðŸº': 'ê°œ',
    'ä¸•': 'ì¡°', 'æœ': 'ì¡°', 'å‰‡': 'ì¡°', 'å…†': 'ì¡°', 'çµ„': 'ì¡°', 'æ—©': 'ì¡°', 'é³¥': 'ì¡°', 'æ½®': 'ì¡°', 'ç…§': 'ì¡°',
    '0': 'ã…‡', 'O': 'ã…‡', 'o': 'ã…‡', 'â—¯': 'ã…‡', 'â­•': 'ã…‡', 'â—‹': 'ã…‡', 'â—': 'ã…‡', 'â—Ž': 'ã…‡', 'â—‰': 'ã…‡', 'â—Œ': 'ã…‡',
    'a': 'a', '@': 'a', '4': 'a', 'Î±': 'a', 'Ã¤': 'a', 'Ã¥': 'a', 'Ã£': 'a', 'Ä': 'a', 'È§': 'a', 'ÇŽ': 'a',
    'b': 'b', '8': 'b', '6': 'b', 'Æƒ': 'b', 'É“': 'b', 'Æ„': 'b', 'â„¬': 'b', 'á–¯': 'b', 'á‘²': 'b',
    'd': 'd', 'á¸‹': 'd', 'á¸': 'd', 'á‘¯': 'd', 'á—ž': 'd', 'á—ª': 'd', 'á–™': 'd', 'â…†': 'd', 'É—': 'd',
    'f': 'f', 'Æ’': 'f', 'á¸Ÿ': 'f', 'â…Ž': 'f', 'á¶‚': 'f', 'êœ°': 'f', 'êŸ»': 'f',
    'g': 'g', 'Ç¥': 'g', 'É¡': 'g', 'Ä¡': 'g', 'Ä£': 'g', 'Ä': 'g', 'Ç§': 'g', '9': 'g',
    'h': 'h', 'Ä¥': 'h', 'Ä§': 'h', 'Æ•': 'h', 'á¸¥': 'h', 'á¸«': 'á¸«', 'â±¨': 'h', 'êœ§': 'h',
    'i': 'i', 'Ä«': 'i', 'Ä­': 'i', 'Ç': 'i', 'Ä¯': 'i',
    'j': 'j', 'Äµ': 'j', 'Ç°': 'j', 'È·': 'j', 'É‰': 'j', 'â±¼': 'j', 'Ê': 'j', 'ÉŸ': 'j',
    'k': 'k', 'Ä·': 'k', 'Æ™': 'k', 'Ç©': 'k', 'á¸±': 'k', 'á¸³': 'k', 'á¸µ': 'k', 'â±ª': 'k',
    'Äº': 'l', 'Ä¼': 'l', 'Ä¾': 'l', 'Å€': 'l', 'Å‚': 'l',
    'm': 'm', 'É±': 'm', 'á¸¿': 'm', 'á¹': 'm', 'á¹ƒ': 'm', 'â±¥': 'm', 'áµ¯': 'm', 'á´': 'm',
    'n': 'n', 'Å„': 'n', 'Åˆ': 'n', 'Ã±': 'n', 'Å†': 'n', 'á¹…': 'n', 'á¹‡': 'n', 'á¹‰': 'n',
    'p': 'p', 'á¹•': 'p', 'á¹—': 'p', 'Æ¥': 'p', 'áµ½': 'p', 'áµ±': 'p', 'á´˜': 'p', 'á‘­': 'p',
    'q': 'q', 'Ê ': 'q', 'É‹': 'q', 'È¹': 'q', 'â±Š': 'q', 'â±': 'q', 'ê—': 'q',
    'Å•': 'r', 'Å™': 'r', 'Å—': 'r', 'á¹™': 'r', 'á¹›': 'r', 'á¹': 'r', 'á¹Ÿ': 'r',
    't': 't', '7': 't', '+': 't', 'Å¥': 't', 'Å£': 't', 'Å§': 't', 'È›': 't', 'á¹«': 't',
    'v': 'v', 'á¹¿': 'v', 'â±´': 'v', 'áµ¥': 'v', 'áµ›': 'v', 'âˆš': 'v', 'á±': 'v', 'âˆ¨': 'v',
    'w': 'w', 'áº': 'w', 'áºƒ': 'w', 'áº…': 'w', 'Åµ': 'w', 'áº‡': 'w', 'áº‰': 'w', 'â±³': 'w',
    'y': 'y', 'Ã½': 'y', 'á»³': 'y', 'Å·': 'y', 'Ã¿': 'y', 'È³': 'y', 'áº': 'y', 'á»µ': 'y',
    'z': 'z', '2': 'z', 'Åº': 'z', 'áº‘': 'z', 'Å¾': 'z', 'Å¼': 'z', 'áº“': 'z', 'áº•': 'z',
};
var MULTI_CHAR_REPLACEMENTS = {
    '_ã…£_': 'ã…—', '_/_': 'ã…—', '_ |\_': 'ã…—', '_|\_': 'ã…—', '_ã…£\\_': 'ã…—', '_I_': 'ã…—',
    'ï¼ï¼¼': 'ã……', '/ï¼¼': 'ã……',
    '77': 'ã„²',
    'åˆ€åœ': 'ê¹Œ',
    'â‚¨': 'rs',
    'ã…‡l=ìŠ¤': 'ì„¹ìŠ¤',
    'ã…‡ã…£-ã…£': 'ì• ',
    'lã…£': 'ë‹ˆ',
    'ã…ã…£': 'ë¯¸',
    'ä¸•åˆ€åœå·±åœäººä¸¨å»¿åœå·±åœå£åœ': 'ì¡°ê¹Œì”¹ìŒ”ë¼',
};
var FALSE_POSITIVE_PATTERNS_BELITTLE = [
    'ë ¤ìš´ì§€', 'ë¬´ì„œìš´ì§€', 'ë¼ìš´ì§€', 'ìš´ì§€ë²•', 'ì‹¸ìš´ì§€', 'ìš´ì§€ë²„ì„¯', 'ìš´ì§€ë¦°ë‹¤', 'ê¹”ë³´ë‹¤', 'ê¹”ë³´ì‹œ',
    '1ë…„', '2ë…„', '3ë…„', '4ë…„', '5ë…„', '6ë…„', '7ë…„', '8ë…„', '9ë…„', '0ë…„',
    'ë”ìš´ì§€ì—­', 'ë‚˜ë”°ê¹Œë¦¬', 'ì§€í‚¬ì•¤í•˜ì´ë“œ', 'ì§€í‚¬ì—”í•˜ì´ë“œ',
];
var allFalsePositivePatterns = __spreadArray([], FALSE_POSITIVE_PATTERNS_BELITTLE, true);
allFalsePositivePatterns.sort(function (a, b) { return b.length - a.length; });
var ALL_FP_REGEX = new RegExp(allFalsePositivePatterns.map(escapeRegex).join('|'), 'gi');
var BELITTLE_PROFANITY_PATTERNS = [
    '10ë ¨', 'ë”°ê¹Œë¦¬', 'ìž¥ì• ë…„', 'ì°ë”°ë…„', 'ì‹¸ê°€ì§€', 'ì°½ë…„', 'ì…ë…„', 'ë²„ëŸ¬ì§€', 'ê³ ì•„ë…„', 'ê°œê°„ë…„', 'ì¢…ê°„ë‚˜', 'ë„êµ¬ë…„', 'ê±¸ëž˜ë…„', 'ì”¹ë…„', 'ê°œê±¸ë ˆ',
    'ì°½ë…€', 'ë¨¸ì €ë¦¬', 'ì”¹ì“°ëž˜ê¸°', 'ì”¹ì“°ë ˆê¸°', 'ì”¹ìž¥ìƒ', 'ì”¹ìžì‹', 'ìš´ì§€', 'ê¸‰ì‹ì¶©', 'í‹€ë”±ì¶©', 'ì¡°ì„¼ì§•', 'ë§¤êµ­ë…¸', 'ë˜¥ê¼¬ì¶©', 'ì§„ì§€ì¶©', 'ë“£ë³´ìž¡', 'ê°œì°ë”°',
    'í•œë‚¨ì¶©', 'ì •ì‹ ë³‘ìž', 'ì¤‘ìƒì•„', 'ëŒíŒ”ì´', 'ê¹€ì¹˜ë…€', 'í°íŒ”ì´', 'í‹€ë”±ë…„', 'ê°™ì€ë…„', 'ê°œë¼ì¤‘', 'ì“°ê¸€ë…„', 'ì©ì„ë…„', 'ì©ê¸€ë…„', 'ì”¹í• ', 'ê±°ì§€ìƒˆë¼', 'ê±°ì§€ì‰ë€Œ',
    'ê±°ì§€ì‰‘ì´', 'ê±°ì§€ìŽ„ë¼', 'ê±°ì§€ì’œë¦¬', 'ê±¸ëž˜ê°€íŠ¼', 'ê±¸ëž˜ë„˜', 'ê±¸ëž˜ë…„', 'ê±¸ëž˜ë†ˆ', 'ê±¸ë ˆê°€íŠ¼', 'ê±¸ë ˆë…„', 'ê·¸ì§€ìƒˆë¼', 'ê·¸ì§€ìƒˆí‚¤', 'ê·¸ì§€ìƒ‰', 'ê¸°ì§‘ë…„', 'ê¹Œì§„ë…„',
    'ê¹”ë³´', 'ë‚œìž¡ë…„', 'ë¹¡ëŒ€ê°€ë¦¬', 'ë”ëŸ¬ìš´ë…„', 'ëŒì•„ì´', 'ë˜ë¼ì´', 'ìž¥ì• ë ¤', 'ìƒ¹ë†ˆ', 'ê¹€ì¹˜ë‚¨', 'ê¹€ì¹˜ë…€', 'í˜œì§€ë ¨', 'í•œìœ ë‚¨ì¶©', 'íŽ˜ë¯¸ë‚˜ì¹˜', 'íŽ˜ë¯¸ë…„', 'ê¼´íŽ˜ë¯¸',
];
var allProfanityPatterns = __spreadArray([], BELITTLE_PROFANITY_PATTERNS, true);
allProfanityPatterns.sort(function (a, b) { return b.length - a.length; });
function escapeRegex(string) {
    return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
}
var singleCharMapRegex = new RegExp(Object.keys(SINGLE_CHAR_NORMALIZATION_MAP).map(function (key) { return escapeRegex(key); }).join('|'), 'gi');
var multiCharReplacementRegex = new RegExp(Object.keys(MULTI_CHAR_REPLACEMENTS)
    .map(escapeRegex)
    .sort(function (a, b) { return b.length - a.length; })
    .join('|'), 'gi');
function belittle(text) {
    if (typeof text !== 'string') {
        if (text === null || text === undefined) {
            throw new Error('korcen: í™•ì¸í•  í…ìŠ¤íŠ¸ë¥¼ ìž…ë ¥í•´ ì£¼ì„¸ìš”');
        }
        throw new Error('korcen: String íƒ€ìž…ë§Œ ìž…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤');
    }
    if (!text.trim()) {
        throw new Error('korcen: í™•ì¸í•  í…ìŠ¤íŠ¸ë¥¼ ìž…ë ¥í•´ ì£¼ì„¸ìš”');
    }
    var processedText = text.toLowerCase().replace(/ /gi, '');
    processedText = processedText.replace(singleCharMapRegex, function (match) {
        var lowerMatch = match.toLowerCase();
        for (var key in SINGLE_CHAR_NORMALIZATION_MAP) {
            if (key.toLowerCase() === lowerMatch) {
                return SINGLE_CHAR_NORMALIZATION_MAP[key];
            }
        }
        return match;
    });
    processedText = processedText.replace(multiCharReplacementRegex, function (match) {
        var lowerMatch = match.toLowerCase();
        for (var key in MULTI_CHAR_REPLACEMENTS) {
            if (key.toLowerCase() === lowerMatch) {
                return MULTI_CHAR_REPLACEMENTS[key];
            }
        }
        return match;
    });
    processedText = processedText.replace(ALL_FP_REGEX, '');
    for (var _i = 0, allProfanityPatterns_1 = allProfanityPatterns; _i < allProfanityPatterns_1.length; _i++) {
        var pattern = allProfanityPatterns_1[_i];
        if (processedText.includes(pattern.toLowerCase())) {
            return true;
        }
    }
    return false;
}
exports.belittle = belittle;
